<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Bueno Siguiendo Con Mi Tema Anterior
http://www.taringa.net/comunidades/webdesign/2350804/%5BTutorial%5D%5BPHP&#43;MYSQL%5D-Sistema-De-Usuarios.html
/taringa/aporte-php-mysql-sistema-de-usuarios/
 Si Entendi Bien A Cada $_POST y $_GET deben encerralos con mysql_escape_real_string() para evitar intentons de injecion mysql, gracias por el dato pense que al hashearlos no era necesario
 Esta Vez Le Colocaremos Ajax Para MAyor Comiddad Del Usuario.
Primero creamos un archivo llamado Incluir.php el cual haremos uso de el en todas las paginas, ya que este archivo incluye los css,y javascrit, esto es a gusto propio, cada uno puede hacerlo como desee." />
    <meta property="og:site_name" content="Federico Scodelaro" />
    <meta property="og:title" content="[Aporte][PHP][MySQL][AJAX] Agregale AJAX al sistema de user | Federico Scodelaro"/>
    <meta property="og:description" content="Bueno Siguiendo Con Mi Tema Anterior
http://www.taringa.net/comunidades/webdesign/2350804/%5BTutorial%5D%5BPHP&#43;MYSQL%5D-Sistema-De-Usuarios.html
/taringa/aporte-php-mysql-sistema-de-usuarios/
 Si Entendi Bien A Cada $_POST y $_GET deben encerralos con mysql_escape_real_string() para evitar intentons de injecion mysql, gracias por el dato pense que al hashearlos no era necesario
 Esta Vez Le Colocaremos Ajax Para MAyor Comiddad Del Usuario.
Primero creamos un archivo llamado Incluir.php el cual haremos uso de el en todas las paginas, ya que este archivo incluye los css,y javascrit, esto es a gusto propio, cada uno puede hacerlo como desee." />
    <meta property="og:image" content="https://pudymody.github.io/static/me.jpg" />
    <meta property="og:url" content="https://pudymody.github.io/taringa/aporte-php-mysql-ajax-agregale-ajax-al-sistema-de-user/" >
    <meta property="og:type" content="blog" />
    
      <meta property="article:published_time" content="2011-04-05 00:00:00 &#43;0000 UTC">
    
    <title>[Aporte][PHP][MySQL][AJAX] Agregale AJAX al sistema de user | Federico Scodelaro</title>
    <link rel="stylesheet" href="https://pudymody.github.io/static/tufte.min.css" />
    <link rel="shortcut icon" href="https://pudymody.github.io/static/favicon.png" type="image/png">
    <link rel="alternate" type="application/rss+xml" title="RSS" href="https://pudymody.github.io/index.xml">
  </head>

  <body>
    <header>
      <nav>
        <ul>
          
          
          <li>
            <a href="https://pudymody.github.io/">/home/federico scodelaro</a>
          </li>
          -
          <li>
            <a target="_blank" rel="noopener" href="https://github.com/pudymody">Github</a>
          </li>
          -
          <li>
            <a target="_blank" rel="noopener" href="https://telegram.me/pudymody">Telegram</a>
          </li>
          -
          <li>
            <a target="_blank" rel="noopener" href="mailto:federicoscodelaro@gmail.com">Email</a>
          </li>
          -
          

          
          
          <li>
            <a href="/index.xml">~/subscribe</a>
          </li>
          
        </ul>
      </nav>
    </header>
    <article>

<section>
<h1>[Aporte][PHP][MySQL][AJAX] Agregale AJAX al sistema de user</h1>
<p class="subtitle">2011/04/05</p>



<p>Bueno Siguiendo Con Mi Tema Anterior</p>

<p><del><a href="http://www.taringa.net/comunidades/webdesign/2350804/%5BTutorial%5D%5BPHP+MYSQL%5D-Sistema-De-Usuarios.html">http://www.taringa.net/comunidades/webdesign/2350804/%5BTutorial%5D%5BPHP+MYSQL%5D-Sistema-De-Usuarios.html</a></del></p>

<p><a href="/taringa/aporte-php-mysql-sistema-de-usuarios/">/taringa/aporte-php-mysql-sistema-de-usuarios/</a></p>

<blockquote>
<p>Si Entendi Bien A Cada $_POST y $_GET deben encerralos con mysql_escape_real_string() para evitar intentons de injecion mysql, gracias por el dato pense que al hashearlos no era necesario</p>
</blockquote>

<p>Esta Vez Le Colocaremos Ajax Para MAyor Comiddad Del Usuario.</p>

<p>Primero creamos un archivo llamado Incluir.php el cual haremos uso de el en todas las paginas, ya que este archivo incluye los css,y javascrit, esto es a gusto propio, cada uno puede hacerlo como desee.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#00f">&lt;?php</span>
<span style="color:#008000">//incluimos mi css ya que estos tutoriales pertenecen a un proyecto mio
</span><span style="color:#008000"></span>    <span style="color:#00f">echo</span><span style="color:#a31515">&#39;&lt;link href=&#34;Style.css&#34; type=&#34;text/css&#34; rel=&#34;stylesheet&#34;&gt;&#39;</span>;

<span style="color:#008000">//incluimos jquery, framework de javascript
</span><span style="color:#008000"></span>    <span style="color:#00f">echo</span><span style="color:#a31515">&#39;&lt;script type=&#34;text/javascript&#34; src=&#34;http://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js&#34;&gt;&lt;/script&gt;&#39;</span>;

<span style="color:#008000">// y aca nuestro js.
</span><span style="color:#008000"></span>    <span style="color:#00f">echo</span><span style="color:#a31515">&#39;&lt;script type=&#34;text/javascript&#34; src=&#34;Actions.js&#34;&gt;&lt;/script&gt;&#39;</span>;
<span style="color:#00f">?&gt;</span>
</code></pre></div>
<p>en el <strong>login.php</strong> cambiamos</p>

<blockquote>
<p>header(&ldquo;Location: main.php&rdquo;);</p>
</blockquote>

<p>por</p>

<blockquote>
<p>echo&rsquo;Te Has Logueado Con Exito&rsquo;;</p>
</blockquote>

<p>en el <strong>index.php</strong> buscamos</p>

<blockquote>
<p>action=&ldquo;registrar.php&rdquo;</p>
</blockquote>

<p>y lo cambiamos por</p>

<blockquote>
<p>onsumit=&ldquo;Registrar(); return false&rdquo;</p>
</blockquote>

<p>y</p>

<blockquote>
<p>action=&ldquo;login.php&rdquo;</p>
</blockquote>

<p>por</p>

<blockquote>
<p>onsubmit=&ldquo;Login(); return false&rdquo;</p>
</blockquote>

<p><strong>Actions.js</strong></p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#008000">//declaramos la funcion login que sera llamada al loguearse
</span><span style="color:#008000"></span><span style="color:#00f">function</span> Login(){
<span style="color:#008000">//hacemos uso de ajax para poder pasa datos POST sin tener que recargar la pagina
</span><span style="color:#008000"></span>$.ajax({

<span style="color:#008000">//indica el metodo en este caso POST
</span><span style="color:#008000"></span>        type: <span style="color:#a31515">&#39;POST&#39;</span>,

<span style="color:#008000">//el archivo el cual recibira los datos.
</span><span style="color:#008000"></span>        url: <span style="color:#a31515">&#39;Login.php&#39;</span>,

<span style="color:#008000">//los datos que seran un nombre representativo seguido de su valor.
</span><span style="color:#008000"></span>        data: <span style="color:#a31515">&#39;userlog=&#39;</span>+ $(<span style="color:#a31515">&#39;#userlog&#39;</span>).val() +<span style="color:#a31515">&#39;&amp;passwordlog=&#39;</span>+ $(<span style="color:#a31515">&#39;#passwordlog&#39;</span>).val(),

<span style="color:#008000">//almacenamos en la vriable h el valor devuelto
</span><span style="color:#008000"></span>        success: <span style="color:#00f">function</span>(h){
        
<span style="color:#008000">//si h es igual a Te Has Logueado Con Exito dirigimos a main.php
</span><span style="color:#008000"></span>            <span style="color:#00f">if</span>(h == <span style="color:#a31515">&#39;Te Has Logueado Con Exito&#39;</span>){
                location.href=<span style="color:#a31515">&#34;main.php&#34;</span>;
            }<span style="color:#00f">else</span>{

<span style="color:#008000">//si no es asi en el div con id resultadologin colocamos los datos devueltos y los mostramos con fadein para efectos esteticos.
</span><span style="color:#008000"></span>                $(<span style="color:#a31515">&#39;#resultadologin&#39;</span>).html(h);
                $(<span style="color:#a31515">&#39;#resultadologin&#39;</span>).fadeIn();
            }
        }        
    });
}

<span style="color:#00f">function</span> Registrar(){

<span style="color:#008000">//declaramos la funcion registrar que sera llamada al registrar un user, no necesita explicacion con entender la anterior es suficiente...
</span><span style="color:#008000"></span>$.ajax({
        type: <span style="color:#a31515">&#39;POST&#39;</span>,
        url: <span style="color:#a31515">&#39;Registrar.php&#39;</span>,
        data: <span style="color:#a31515">&#39;user=&#39;</span>+ $(<span style="color:#a31515">&#39;#user&#39;</span>).val() +<span style="color:#a31515">&#39;&amp;password=&#39;</span>+ $(<span style="color:#a31515">&#39;#pass&#39;</span>).val() +<span style="color:#a31515">&#39;&amp;email=&#39;</span>+$(<span style="color:#a31515">&#39;#email&#39;</span>).val(),
        success: <span style="color:#00f">function</span>(h){
        
            $(<span style="color:#a31515">&#39;#resultadoregistrar&#39;</span>).html(h);
            $(<span style="color:#a31515">&#39;#resultadoregistrar&#39;</span>).fadeIn();
        }        
    });
} 
</code></pre></div>
</section>
</article>
</body>
</html>
